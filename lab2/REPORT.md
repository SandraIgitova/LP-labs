#№ Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

### студент: Семенов И.М. 
### группа: М8О-206б-18

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |


## Введение

Логические задачи обычно решают, используя метод рассуждений, таблицы истинности, графический метод или применяя средства алгебры логики. Эти методы так или иначе задействуют перебор возможных решений. При этом, в процессе перебора, мы стараемся исключить решения, которые являются неверными(согласно исходным данным), чтобы получить ответ к задаче. Однако, если начальных данных в задаче будет слишком много, на решение может потребоваться значительное количество времени. Также, в процессе решения задачи довольно легко запутаться и получить неверный ответ.
Можно заметить, что благодаря своему механизму поиска ответа(перебор, основанный на дереве возможных решений), Prolog оказывается идеальным средством для решения подобных задач. Достаточно всего лишь корректно преобразовать условие задачи в набор предикатов и применить перебор возможных решений.

## Задание
### Вариант 20 
Дина, Соня, Коля, Рома и Миша учатся в институте. Их фамилии  Бойченко, Карпенко, Лысенко, Савченко и Шевченко. Мать Ромы умерла. Родители Дины никогда не встречались с родителями Коли. Студенты Шевченко и Бойченко играют в одной баскетбольной команде. Услышав, что родители Карпенко собираются поехать за город, мать Шевченко пришла к матери Карпенко и попросила, чтобы та отпустила своего сына к ним на вечер, но оказалось, что отец Коли уже договорился с родителями Карпенко и пригласил их сына к Коле. Отец и мать Лысенко  хорошие друзья родителей Бойченко. Все четверо очень довольны, что их дети собираются пожениться. Установите имя и фамилию каждого из молодых людей и девушек. 

## Принцип решения

Задачу можно решить с использованием предиката permute(список имен, список фамилий), при этом имена должны быть атомами, а фамилии переменными. Это связано с тем, что из имен извлекается дополнительная информация о поле студентов. Запишем ее в виде предикатов.

boy('Roma').
boy('Misha').
boy('Kolya').
girl('Sonya').
girl('Dina').

Продолжим трансформировать условие задачи в предикаты. Из условия известно, что мать Ромы умерла, а родители Дины и Коли не встречались. Так же необходимо создать предикаты для проверки того, могут ли два студента быть в одной команде по баскетболу(для этого они должны быть одного пола) или собираться жениться(для этого они должны быть разного пола).

died(mother('Roma')).

parents_never_met('Dina','Kolya').
parents_never_met('Kolya','Dina').

in_one_team(X,Y) :-
    boy(X), boy(Y), !.

in_one_team(X,Y) :-
    girl(X), girl(Y), !.

going_to_marry(X,Y) :-
    boy(X), girl(Y), !.

going_to_marry(X,Y) :-
    girl(X), boy(Y), !.

Далее необходимо обработать оставшиеся условия задачи, создадим предикаты, принимающие список из унифицированных переменных, именами переменных являются фамилии студентов, а значениями - имена.

Студенты Шевченко и Бойченко играют в одной баскетбольной команде.

statement_1([Boychenko,_,_,_,Shevchenko]) :- 
    in_one_team(Shevchenko, Boychenko).

Услышав, что родители Карпенко собираются поехать за город, мать Шевченко пришла к матери Карпенко и попросила, чтобы та отпустила своего сына к ним на вечер, но оказалось, что отец Коли уже договорился с родителями Карпенко и пригласил их сына к Коле.

statement_2([_,Karpenko,_,_,Shevchenko]) :-
    not(died(mother(Shevchenko))),
    not(died(mother(Karpenko))),
    not(parents_never_met(Shevchenko, Karpenko)),
    not(parents_never_met('Kolya', Karpenko)),
    boy(Karpenko),
    'Kolya' \= Karpenko.


Отец и мать Лысенко  хорошие друзья родителей Бойченко. Все четверо очень довольны, что их дети собираются пожениться.

statement_3([Boychenko,_,Lyisenko,_,_]) :- 
    not(died(mother(Lyisenko))),
    not(died(mother(Boychenko))),
    not(parents_never_met(Lyisenko, Boychenko)),
    going_to_marry(Lyisenko, Boychenko).

Применим предикат permute и выведем решение, соответствующее всем заданным условиям.

solve() :- 
    permutation(['Roma','Misha','Kolya','Sonya','Dina'],[Boychenko,Karpenko,Lyisenko,Savchenko,Shevchenko]),
    List = [Boychenko,Karpenko,Lyisenko,Savchenko,Shevchenko],
    statement_1(List),
    statement_2(List),
    statement_3(List),

    write("Boychenko "), write(Boychenko), nl,
    write("Karpenko "), write(Karpenko), nl,
    write("Lyisenko "), write(Lyisenko), nl,
    write("Savchenko "), write(Savchenko), nl,
    write("Shevchenko "), write(Shevchenko), nl.

Получаем единственное верное решение.

?- solve().
Boychenko Sonya
Karpenko Misha
Lyisenko Kolya
Savchenko Roma
Shevchenko Dina
true 


## Выводы

Выполнив данную работу, я приобрел навык решения логических задач с использованием языка Prolog. Действительно, Prolog является отличным инструментом для подобной работы. Prolog ищет решения примерно тем же путем, что и человек, но делает это гораздо быстрее и точнее. Все благодаря использованию отсечения, дерева решений и механизму передоказательства утверждений, оказавшихся ложными. Я считаю, что при увеличении условия задачи, ее решение вручную займет значительно больше времени, чем перевод условия задачи в набор предикатов и дальнейшая обработка этих предикатов языком Prolog.




